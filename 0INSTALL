Installation 
=========================

Instructions for installing WaybackMedic and configuring AWB 

== WaybackMedic ==

1. Download all WaybackMedic files to a directory (eg. /home/user/wm)

2. If not already, install the following programs:

    GNU Awk 4.1+
    GNU Parallel 
    Wget
    wdiff  (apt-get install wdiff) (optional)
    
2. Create two sub-directories "data" and "meta" (eg. mkdir data; mkdir meta)

3. Edit the following files and change the first line hash-bang #!/ to the location of GNU Awk    

    ucontribs.awk
    project.awk
    bug.awk
    driver.awk
    medic.awk

    Set the above files to executable (eg. chmod 750 ucontribs.awk)

4. Create symlinks to make life easier:

    ln -s ucontribs.awk ucon
    ln -s project.awk project
    ln -s bug.awk bug
    ln -s driver.awk driver
    ln -s medic.awk medic

5. Edit init.awk and set the paths of programs 


== Configure AWB ==

6. WaybackMedic uses AWB's Tools->External process feature. The external process will be GNU Awk.

   You have a choice which GNU Awk to run under Windows.

     1. Cygwin
     2. Native precompiled Windows binary

   1. If using Cygwin (recommend) install Cygwin and Awk will be included as a POSIX standard tool.
   2. A native precompiled binary is available at https://sourceforge.net/projects/ezwinports/files/?source=navbar
        This binary is compiled and maintained by the GNU development team and is recommended by them as safe.

      Note: I have not tested with native windows binary - it may require changes to paths "/" vs "\" 

7. AWB configuration (awb-settings.xml) for Cygwin would look something like this:

    <ExternalProgram>
      <Enabled>true</Enabled>
      <Skip>true</Skip>
      <Program>c:\cygwin\bin\gawk.exe</Program>
      <Parameters>-f /home/name/wm/demon-win.awk "%%title%%"</Parameters>
      <PassAsFile>true</PassAsFile>
      <OutputFile>h:\article.txt</OutputFile>
    </ExternalProgram>

  The path of the OutputFile will match the path of "Ramdisk" set in step 5
  It doesn't have to be an actual ramdisk, "c:\tmp\" will also work here, in init.awk it would be "/tmp/"
  Mindful of "/" and "\" in the above as they are a mix

8. Edit demon-win.awk and change the paths in the 3 lines marked Configuration at the top

